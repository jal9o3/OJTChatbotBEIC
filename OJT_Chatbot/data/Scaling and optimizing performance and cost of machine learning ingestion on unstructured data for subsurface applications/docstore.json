{"docstore/data": {"acb03f39-589f-401e-b7a5-b690599844de": {"__data__": {"id_": "acb03f39-589f-401e-b7a5-b690599844de", "embedding": null, "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "992bbaf5-327e-43fc-bb1b-e97bf6418ae8", "node_type": "4", "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}, "hash": "7a1e9e5f6fa087f4ee764766fadb9f231820cf188aefb5db76eab7f9083c9cd1", "class_name": "RelatedNodeInfo"}, "3": {"node_id": "bf1946b2-aefd-4899-93cb-8157e6b10ef9", "node_type": "1", "metadata": {}, "hash": "5ad94aac51a82801d43f6969f58881e9fa1a1df47dde9cf5e46707d657b286d1", "class_name": "RelatedNodeInfo"}}, "text": "Title: Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications\nAuthor: L.C.I . Panganiban, F. Baillard, N.M. Hernandez\nTags: Machine Learning, Unstructured Data, Mining\n\n\n-----Page 1-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nSCALING AND OPTIMIZING PERFORMANCE AND COST OF MACHINE\nLEARNING INGESTION ON UNSTRUCTURED DATA FOR\nSUBSURFACE APPLICATIONS\n\nL.C.I . Panganiban F. Baillard N.M. Hernandez !\n\n! Iraya Energies\n\nSummary\n\nIn recent years the energy industry has shifted their attention into extracting additional values from\ntheir inhouse legacy datasets for shorter project turnaround and better decision making . Internal digital\ntransformation initiatives and access to new technology such as cloud computing machine learning and\nmicroservices made it possible to shift towards a scalable ingestion platform .\n\nA modern scalable ingestion platform often includes 1 ) automated machine learning ( ML ) components\narticulated around pipelines to parse and go through the data and extract the needed information 2 )\nstorage component such Database Datawarehouse and Datalake defining what data to be stored and\nhow .\n\nIn this paper we will provide a description of these different components their modern implementation\ninto a cloud environment using microservices and some performance benchmark based on real world\ndata examples .\n\n834 EAGE Amnual Conference 42 Exhibition\n\n-----Page 2-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nScaling and optimizing performance and cost of machine learning ingestion on unstructured\ndata for subsurface applications\n\nIntroduction\n\nIn recent years the energy industry has shifted their attention into extracting additional values from\ntheir inhouse legacy datasets for shorter project turnaround and better decision making . Internal digital\ntransformation initiatives and access to new technology such as cloud computing machine learning and\nmicroservices made it possible to shift towards a scalable ingestion platform .\n\nA modern scalable ingestion platform often includes 1 ) automated machine learning ( ML ) components\narticulated around pipelines to parse and go through the data and extract the needed information 2 )\nstorage component such Database Datawarehouse and Datalake defining what data to be stored and\nhow .\n\nIn this paper we will provide a description of these different components their modern implementation\ninto a cloud environment using microservices and some performance benchmark based on real world\ndata examples .\n\nScalable ingestion platform architecture\n\nThe vast majority of experimentation and testing of new ML application are performed on notebooks\non local machines leveraging on local hardware with the data and the code being stored locally . Such\na setup has the advantage of being lightweight allowing a fast turnaround between two ML iterations .\nHowever the lack of traceability compatibility and hardware limitation makes it challenging to scale\nsuch application hence the requirement of a more scalable solution .\n\nIn comparison a scalable ingestion platform is a type of system native able to handle current and future\nworkloads regardless of the amount of data ingested or users connecting to it considering both scaling\nin ( shrinking resources ) and scaling out ( expanding resources ) . An example of such system can be seen\non Figure 1 . The architecture is made of of four components namely pipeline storage compute and\ninterfaces .\n\nINTERFACES\n\nPIPELINE\n\no ! Images\n\nEl\nProduction U\nRecords m\nPD\nPut\nFE Reports\nic Presentations z\nDa\n19 Maintenance\nGj Records\n\nFigure 1 : Ingestion Platform Architecture\n\nPipeline or data pipeline is the main driver in extracting and transforming data into a unified format .\nThe typical ingestion workflow is based on an ExtractTransformLoad process with machine learning\nworkflows able to accommodate the variety in sources and forms present in unstructured data\n( Hernandez et al . 2019 ) .\n\n834 EAGE Amual Conference 4c Exhibition\n\n-----Page 3-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nThe storage component is where the data resides . Storage is often the least thought about in development\nand architecture strategies but it is one of the core contributors in terms of cost to the organization . The\ncompute node component schedules and orchestrates the data pipelines logic flows and algorithms .\nThe interface or the dashboard component provides the monitoring and observability capabilities . This\npresents the events statuses logs and other operational insights that can be used for decision making .\nThese components have different ways to be scaled depending of 1 ) the environment of installation : on\npremise vs. cloud 2 ) the volume and type of data being processed 3 ) the early development decision : all\nout of the box cloud providers solution opensource self maintained solution or hybrid .\n\nComponents optimization\n\nThe first metrics to consider for optimization is processing time and should be independent from the\nvolume of data to be processed by the pipeline . This optimization is achieved through parallelization\ndistributed computing and orchestration by scaling up or down the usage based on demand . Applications\nand data pipelines are packaged into containers and then deployed into a Kubernetes cluster in which it\nhandles the scheduling distribution and allocation across different machines . Workflow managers (\nWM ) provide the platform to execute and orchestrate the jobs and tasks that are contained in a PodPool\n( Figure 2 ) . Workflow managers also implement orchestration and scheduling though it handles the tasks\nin the application layer where this determines if the data execution is successful or not .\n\nPB sti VB\n\njuk File Group\n1 gia\n\nYANG LLANA GOQUNOS :\n\n: ABPD a oj ? 8a\nug ) File Group EF l ca a EF !\n\nPool 2 2\nFiles Workflow GING\nManager 3 maga MAGANG LEABAONG SEGUON\n\nKubernetes paa ( 5 ) 255 DUN Ie Hare El\n\nPool 3 . a\npile Group FS : md nd ag\n2 Er o\n\nFigure 2 : Unstructured data pipeline with orchestration in place\n\nThe second metric to consider is the extensibility metric . A single service or component can be used\nbeyond what is originally intended . Thanks to the microservices exposing your data via application\nprogramming interfaces or APIs is a good practise ( Figure 3 ) . It provides a common language across\nteams where implementation is unified across different data sources . An additional advantage of the use\nof APIs is the additional level of abstraction for the storage of the data . Data are now accessible from\nvarious mounting locations through a single call allowing democratization and versioning of the data .\n\nAPI LINK\n\nL !\nP\na .\n1\na\nAPI LINK\nl\n\n\n7 TIP\nData 1 Data 3 258\n\nag Ca API LINK F\nNi\n5 DATA FACTORY farama KE :\nData2 5 Data4 m\n\n834 EAGE Amnual Conference 4c Exhibition\n\n-----Page 4-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nFigure 3 : Connecting applications using API links\n\nAs an example a fulltext search endpoint originally used to do searches can also be used to create\naggregations models like heatmap and knowledge graphs ( Baillard et Al . 2021 ) as seen on Figure 4 .", "mimetype": "text/plain", "start_char_idx": 0, "end_char_idx": 7190, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}, "bf1946b2-aefd-4899-93cb-8157e6b10ef9": {"__data__": {"id_": "bf1946b2-aefd-4899-93cb-8157e6b10ef9", "embedding": null, "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}, "excluded_embed_metadata_keys": [], "excluded_llm_metadata_keys": [], "relationships": {"1": {"node_id": "992bbaf5-327e-43fc-bb1b-e97bf6418ae8", "node_type": "4", "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}, "hash": "7a1e9e5f6fa087f4ee764766fadb9f231820cf188aefb5db76eab7f9083c9cd1", "class_name": "RelatedNodeInfo"}, "2": {"node_id": "acb03f39-589f-401e-b7a5-b690599844de", "node_type": "1", "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}, "hash": "55e0dddd686757fa4ec64e65dd8da875e679cc5f83213047149e1d10d0f6592d", "class_name": "RelatedNodeInfo"}}, "text": "7 TIP\nData 1 Data 3 258\n\nag Ca API LINK F\nNi\n5 DATA FACTORY farama KE :\nData2 5 Data4 m\n\n834 EAGE Amnual Conference 4c Exhibition\n\n-----Page 4-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nFigure 3 : Connecting applications using API links\n\nAs an example a fulltext search endpoint originally used to do searches can also be used to create\naggregations models like heatmap and knowledge graphs ( Baillard et Al . 2021 ) as seen on Figure 4 .\n\n\npa a\n.. o ?\n\nFigure 4 : Heatmap ( left ) and Knowledge Graph ( right )\n\nThe third metric to consider is the UIUX responsivness and define the optimal data representation for\nthe user or the operator to QC the data and for the service to have still an acceptable response time . As\nseen on Figure 4 the heat map and the knowledge graph are built ontop of 100000 data points\n( Mamador et al . 2021 ) . Interface and visualization scaling requires removing the dependency on the\nvolume of data points . The amount of time visualizing 100 points should be the same as visualizing\n100000 points in which development of aggregation and interpolation workflows must be performed\nin the backend and frontend to overcome this volume challenge .\n\nBenchmarks and testing\n\nTo see the performance of this architecture we can consider the following data . We have 3 buckets of\ndata for this assessment . It is composed of geoscience documents that ranges from final well reports\ngeological report regional studies interpretations coming from various file formats countries and\nlanguages . The data also includes images like thin sections core well logs seismic . All these data are\naudited and stored into an object storage .\n\nThe following are the system that was used for this assessment :\ne Base case : 1node with 4 cores and 16 GB of RAM from cloud provider without WM\ne Optimized case : 5nodes with 4 cores and 16 GB of RAM per node from cloud provider with WM\n\nBucket Number Duration Failure Duration Failure Language Region\nof Pages ( hours ) Rate 46 ( hours ) Rate 4\nSingle node ( Single Cluster ( Cluster )\nNode )\n1 4403 18 15 4 5 Mixed Europe\n2 40565 170.25 11 38.5 0.5 English Oceania\n3 62531 250 12 60 0.01 Mixed South\nAmerica\n\nTable 1 : Extraction Performance with 4cores and 16 GB of RAM per node\n\nTable 1 shows the extraction performance . The extraction workload encompasses the data loading\nprocessing and uploading . It was tested on a variety of datasets from different regions and languages .\nFor a single node execution the average number of pages per hour is around 244 pages and for a 5node\ncluster the average number of pages per hour is 1000 . Since workflow manager provide an autoretry\n\n834 EAGE Amnual Conference 4c Exhibition\n\n-----Page 5-----\n\nEAGE ANNUAL\n\n83RD CONFERENCE @ : EXHIBITION\n\nfunction this reduces the failure rate by a significant amount . This is due to tasks that are failing due to\nnetwork or infrastructure issues to be retried or reexecuted . The failure rate is now mostly on the data\nsince we haveve removed the infrastructure constraint .\n\nAs one of the metrics that we have set earlier we need to consider the cost and infrastructure usage .\nUsing the same workloads we can assess the cost and infrastructure optimization in Table 2 .\n\nBucket Number of Yo Hardware Yo Hardware\nPages usage Avg . usage Avg .\nSingle node Cluster\n1 4.403 42Y0 84Y0\n2 40565 40Y0 830\n3 62531 41Y0 830\n\nTable 2 : Extraction Infrastructure Utilization with 4cores and 16GB of RAM\n\nTable 2 shows that we have a higher utilization in the cluster hence we are fully utilizing the server . In\nthe case of single node only 4146 of the resources is utilized vs 8346 in the cluster approach . Both the\nreduced failure rates and the hardware utilization illustratres the gain of efficency in deploying a scalable\ningestion platform\n\nConclusions\n\nIn this paper we have seen how to scale and optimize the ML ingestion pipeline for subsurface\napplications . We have shown that scaling and optimizing ML ingestion pipelines can lead to\nimprovements in terms of time and cost . We have also demonstrated that the ingestion platform is\nscalable to handle data from a variety of regions and languages . Finally weve seen the power of scaling\nvisualizations and exposing the data via API links in which we can get more insight and enhance the\nability of the team to extract knowledge .\n\nReferences\n\nBaillard F. and Hernandez N. : A Case Study of Understanding Bonaparte Basin using Unstructured\nData Analysis with Machine Learning Techniques . 82nd EAGE Conference 8 Exhibition 1821\nOctober 2021 Amsterdam .\n\nMamador C. Hernandez N. Baillard F. : Productionscale processing of EAGEs EarthDoc data\nto stimulate new insights in CO2 and new energy management . 82nd EAGE Conference kz\nExhibition worskhop on ML solutions at scale 22 October 2021 Amsterdam .\n\nHernandez N. Lucafias P. Graciosa J.C. Mamador C. and Panganiban L. C. I . 2019 : Automated\n\ninformation retrieval from unstructured documents utilizing a sequence of smart machine learning\n\nmethods within a hybrid cloud container . EAGE Workshop on Big Data and Machine Learning for\nEP Efficiency 25 27 February .\n\n834 EAGE Amnual Conference 4c Exhibition", "mimetype": "text/plain", "start_char_idx": 6744, "end_char_idx": 11904, "text_template": "{metadata_str}\n\n{content}", "metadata_template": "{key}: {value}", "metadata_seperator": "\n", "class_name": "TextNode"}, "__type__": "1"}}, "docstore/metadata": {"acb03f39-589f-401e-b7a5-b690599844de": {"doc_hash": "55e0dddd686757fa4ec64e65dd8da875e679cc5f83213047149e1d10d0f6592d", "ref_doc_id": "992bbaf5-327e-43fc-bb1b-e97bf6418ae8"}, "bf1946b2-aefd-4899-93cb-8157e6b10ef9": {"doc_hash": "0566a01baaad949b50e3aaf344cb8de0debd88310af48934e1a22e620a909b40", "ref_doc_id": "992bbaf5-327e-43fc-bb1b-e97bf6418ae8"}}, "docstore/ref_doc_info": {"992bbaf5-327e-43fc-bb1b-e97bf6418ae8": {"node_ids": ["acb03f39-589f-401e-b7a5-b690599844de", "bf1946b2-aefd-4899-93cb-8157e6b10ef9"], "metadata": {"title": "Scaling and optimizing performance and cost of machine learning ingestion on unstructured data for subsurface applications", "author": ["L.C.I . Panganiban", "F. Baillard", "N.M. Hernandez"], "tags": ["Machine Learning", "Unstructured Data", "Mining"]}}}}